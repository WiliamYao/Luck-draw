<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>抽奖</title>
<style>
 .menu{ width:854px; height:504px;
  margin: 50px auto; background: #C30 url(pic/bg1.png);  
  position:relative;
	 }
.arrow{
	width: 294px;
	height: 294px;
	position: absolute;
	left: 181px;
	top: 104px;
	transition:all 2s;
}
 .msg{
	position: absolute;
	width: 400px;
	height: 80px;
	line-height: 80px;
	text-align: center;
	background: rgba(102,102,102,0.8);
	color: #FFF;
	font-size: 16px;
	left: 138px;
	top: 199px;
	display:none;
}

</style>
<script src="js/jquery-3.1.1.min.js"></script>
<script>
    var n=0;
    var arr=Array('谢谢参与','代金券5元','代金券1元','代金券10元','谢谢参与','代金券20元','代金券50元','代金券30元');
	var len=arr.length; //奖项个数
	//每一格有多少度数
    var deg=360/len; 
   
    //点击转盘运动
	$(function(){
		   $(".arrow").click(function(){
			      $(".arrow").unbind('click'); //锁定点击事件
			      aa();
			   });
			  
		//点击动画完成之后的动作
		  $(".arrow").on("transitionend",function(){
			   $(".msg").html(price).fadeIn(500).delay(2000).fadeOut(500);
			   setTimeout(function(){
				   ;$(".arrow").bind('click',aa); //再次获得点击事件 
				   },300);
			  });	 
   
		});
		
		
	function aa(){
		    n++;
		   //找随机的下标
		   var ii=parseInt(Math.random()*len);
		   var sum_deg=ii*deg+360*5*n+'deg';
		   price=arr[ii];
		   
		   //判断只能点击二次
		   if(n<3){
		   $(".arrow").css('transform','rotate('+sum_deg+')');
		   }
		   
		}
   

</script>
</head>

<body>
  <div class="menu">
     <div class="arrow"><img src="pic/arrow.png" /></div>
     <!--  得奖提示  -->
     <div class="msg"></div>
</div>

</body>


</html>
